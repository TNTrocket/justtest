<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
  </head>
  <body>
    <script>
      //检测页面帧数
      var lastTime = performance.now();
      var frame = 0;
      var lastFameTime = performance.now();
      var loop = function(time) {
        var now = performance.now();
        var fs = now - lastFameTime;
        lastFameTime = now;
        var fps = Math.round(1000 / fs);
        frame++;
        if (now > 1000 + lastTime) {
          var fps = Math.round((frame * 1000) / (now - lastTime));
          frame = 0;
          lastTime = now;
        }
        console.log('fps', fps);
        window.requestAnimationFrame(loop);
      };
      loop();
    </script>
  </body>
</html>
